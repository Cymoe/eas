import React from 'react';
import { View } from 'react-native';
import { Path, Svg, Rect } from 'react-native-svg';

type IconName = 'chat' | 'heart' | 'calendar' | 'match';

interface TabIconProps {
  name: IconName;
  color: string;
  size?: number;
}

interface IconConfig {
  viewBox: string;
  elements: (color: string) => React.ReactNode;
}

const iconConfigs: Record<IconName, IconConfig> = {
  chat: {
    viewBox: "0 0 24 24",
    elements: (color) => <Path d="M22.5 22.033C22.3445 22.033 22.1987 22.0038 22.0625 21.9455C21.9264 21.8872 21.8 21.7997 21.6834 21.683L19 18.9997H7.33337C6.69171 18.9997 6.1424 18.7712 5.68546 18.3143C5.22851 17.8573 5.00004 17.308 5.00004 16.6663V15.4997H17.8334C18.475 15.4997 19.0243 15.2712 19.4813 14.8143C19.9382 14.3573 20.1667 13.808 20.1667 13.1663V4.99967H21.3334C21.975 4.99967 22.5243 5.22815 22.9813 5.68509C23.4382 6.14204 23.6667 6.69134 23.6667 7.33301V20.8372C23.6667 21.1872 23.55 21.474 23.3167 21.6976C23.0834 21.9212 22.8112 22.033 22.5 22.033ZM2.66671 12.2038L4.03754 10.833H15.5V2.66634H2.66671V12.2038ZM1.50004 16.1997C1.18893 16.1997 0.916707 16.0879 0.683374 15.8643C0.450041 15.6406 0.333374 15.3538 0.333374 15.0038V2.66634C0.333374 2.02467 0.561846 1.47537 1.01879 1.01842C1.47574 0.56148 2.02504 0.333008 2.66671 0.333008H15.5C16.1417 0.333008 16.691 0.56148 17.148 1.01842C17.6049 1.47537 17.8334 2.02467 17.8334 2.66634V10.833C17.8334 11.4747 17.6049 12.024 17.148 12.4809C16.691 12.9379 16.1417 13.1663 15.5 13.1663H5.00004L2.31671 15.8497C2.20004 15.9663 2.07365 16.0538 1.93754 16.1122C1.80143 16.1705 1.6556 16.1997 1.50004 16.1997Z" fill={color} />
  },
  heart: {
    viewBox: "0 0 24 24",
    elements: (color) => <Path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill={color} />
  },
  calendar: {
    viewBox: "0 0 24 24",
    elements: (color) => <Path d="M1.99998 5.23374V2.43374C1.99998 2.21985 2.09234 2.05457 2.27706 1.9379C2.46179 1.82124 2.65137 1.81151 2.84581 1.90874L5.61665 3.30874C5.83054 3.40596 5.93748 3.58096 5.93748 3.83374C5.93748 4.08651 5.83054 4.26151 5.61665 4.35874L2.84581 5.75874C2.65137 5.85596 2.46179 5.84624 2.27706 5.72957C2.09234 5.6129 1.99998 5.44762 1.99998 5.23374ZM19.5 5.23374V2.43374C19.5 2.21985 19.5923 2.05457 19.7771 1.9379C19.9618 1.82124 20.1514 1.81151 20.3458 1.90874L23.1166 3.30874C23.3305 3.40596 23.4375 3.58096 23.4375 3.83374C23.4375 4.08651 23.3305 4.26151 23.1166 4.35874L20.3458 5.75874C20.1514 5.85596 19.9618 5.84624 19.7771 5.72957C19.5923 5.6129 19.5 5.44762 19.5 5.23374ZM11.3333 4.06707V1.26707C11.3333 1.05318 11.4257 0.887902 11.6104 0.771236C11.7951 0.654569 11.9847 0.644847 12.1791 0.742069L14.95 2.14207C15.1639 2.23929 15.2708 2.41429 15.2708 2.66707C15.2708 2.91985 15.1639 3.09485 14.95 3.19207L12.1791 4.59207C11.9847 4.68929 11.7951 4.67957 11.6104 4.5629C11.4257 4.44624 11.3333 4.28096 11.3333 4.06707ZM10.3416 23.6379C7.61942 23.4823 5.35415 23.0789 3.54581 22.4275C1.73748 21.7761 0.833313 21.0226 0.833313 20.1671V9.66707C0.833313 9.18096 1.13956 8.72888 1.75206 8.31082C2.36456 7.89276 3.19581 7.52332 4.24581 7.20249C5.29581 6.88165 6.53054 6.62887 7.94998 6.44415C9.36942 6.25943 10.8861 6.16707 12.5 6.16707C14.1139 6.16707 15.6305 6.25943 17.05 6.44415C18.4694 6.62887 19.7041 6.88165 20.7541 7.20249C21.8041 7.52332 22.6354 7.89276 23.2479 8.31082C23.8604 8.72888 24.1666 9.18096 24.1666 9.66707V20.1671C24.1666 21.0421 23.2576 21.8004 21.4396 22.4421C19.6215 23.0837 17.3514 23.4823 14.6291 23.6379C14.3569 23.6573 14.1285 23.5747 13.9437 23.39C13.759 23.2053 13.6666 22.9768 13.6666 22.7046V19.0004H11.3333V22.6754C11.3333 22.9476 11.2361 23.181 11.0416 23.3754C10.8472 23.5698 10.6139 23.6573 10.3416 23.6379ZM12.5 10.8337C14.3861 10.8337 16.0146 10.7219 17.3854 10.4983C18.7562 10.2747 19.85 10.0171 20.6666 9.7254C20.6666 9.62818 19.9278 9.39971 18.45 9.03999C16.9722 8.68026 14.9889 8.5004 12.5 8.5004C10.0111 8.5004 8.02776 8.68026 6.54998 9.03999C5.0722 9.39971 4.33331 9.62818 4.33331 9.7254C5.14998 10.0171 6.24373 10.2747 7.61456 10.4983C8.9854 10.7219 10.6139 10.8337 12.5 10.8337ZM8.99998 21.1587V19.0004C8.99998 18.3587 9.22845 17.8094 9.6854 17.3525C10.1423 16.8955 10.6916 16.6671 11.3333 16.6671H13.6666C14.3083 16.6671 14.8576 16.8955 15.3146 17.3525C15.7715 17.8094 16 18.3587 16 19.0004V21.1587C17.5555 21.0032 18.8291 20.7747 19.8208 20.4733C20.8125 20.1719 21.4833 19.9046 21.8333 19.6712V11.7671C20.7639 12.1948 19.4222 12.5351 17.8083 12.7879C16.1944 13.0407 14.425 13.1671 12.5 13.1671C10.575 13.1671 8.80554 13.0407 7.19165 12.7879C5.57776 12.5351 4.23609 12.1948 3.16665 11.7671V19.6712C3.51665 19.9046 4.18748 20.1719 5.17915 20.4733C6.17081 20.7747 7.44442 21.0032 8.99998 21.1587Z" fill={color} />
  },
  match: {
    viewBox: "0 0 22 24",
    elements: (color) => <>
      <Rect x="0.870889" y="5.54394" width="14.6" height="14.6" rx="1.3" transform="rotate(-16.6098 0.870889 5.54394)" stroke={color} strokeWidth="1.4" fill="none"/>
      <Path d="M9.03692 14.3778L7.03595 7.66992L13.3069 9.45169L9.03692 14.3778Z" fill="#908D8A"/>
      <Rect x="6.7" y="8.2" width="14.6" height="14.6" rx="1.3" fill={color} stroke={color} strokeWidth="1.4"/>
    </>
  }
};

export function TabIcon({ name, color, size = 24 }: TabIconProps) {
  const config = iconConfigs[name];
  return (
    <View style={{ width: size, height: size }}>
      <Svg width={size} height={size} viewBox={config.viewBox} fill="none">
        {config.elements(color)}
      </Svg>
    </View>
  );
}